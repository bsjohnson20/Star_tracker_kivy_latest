##:kivy 1.10.0
##:include screenone.kv
##:include screentwo.kv
##:include screenwelcome.kv

# Use the above to import screen files

#<ContextButton@Button>:
 #   size: 120, 40




<Manager>:
    id: fuckeroni
    screenwelcome: screen_welcome_id
    screenadddevice: screen_Add_id
    screenhome: screen_Home_id
    screenaboutme: screen_AboutMe_id
    screeniotcontrol: screen_IOTControl_id

# The order below determines which screen is displayed after app loads


    ScreenWelcome:
        id: screen_welcome_id
        name: 'ScreenWelcome'

    ScreenAddDevice:
        id: screen_Add_id
        name: 'ScreenAdd'

    ScreenHome:
        id: screen_Home_id
        name: "ScreenHome"

    ScreenAboutMe:
        id: screen_AboutMe_id
        name: "ScreenAboutMe"

    ScreenIOTControl:
        id: screen_IOTControl_id
        name: "ScreenIOTControl"

    DeviceSettings:
        id: device_settings_id
        name: "DeviceSettings"



<ScreenWelcome>:
    BoxLayout:
        orientation: 'vertical'

        MDLabel:
            text: 'Welcome to the\n Star Tracker IOT APP'
            size_hint_y: 0.9
        Button:
            halign: 'center'
            size_hint_y: 0.1
            text: "Continue!"
            on_press:

                root.manager.current = root.manager.splash_next
                root.manager.last_screen = 'ScreenWelcome'

            pos_hint: {"center_x": .5, "center_y": .5}



<ScreenAddDevice>:

    id: devices
    BoxLayout:

        orientation: 'vertical'
        MDLabel:
            text: "Star Tracker Add Device"
            size_hint_y: 0.1
            # center
            pos_hint: {"center_x": .5, "center_y": .5}
        GridLayout:
            id: addDevice_grid
            padding: 20
            spacing: 20

            cols: 2
            MDLabel:
                text: "Name"
            TextInput:
                multiline: False
                id: name
                font_size: self.height * 0.5
            MDLabel:
                text: "Desc"
            TextInput:
                multiline: False
                id: desc
                font_size: self.height * 0.5
            MDLabel:
                text: "IP"
            TextInput:
                id: ip_id
                multiline: False
                font_size: self.height * 0.5
            MDLabel:
                text: "Device"
            MDRectangleFlatButton:
                text: "Device Types"
                id: dropdown_opener
                size_hint_x: 1
                size_hint_y: 0.8


        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: 0.1
            MDIconButton:
                size_hint_x: 1
                text: "Back"
                on_press:
                    root.manager.current = root.manager.last_screen
                    root.manager.last_screen = "ScreenAdd"
                icon: "arrow-left"


            MDIconButton:
                size_hint_x: 1
                text: "Continue"
                on_press:
                    root.Validate()
                    # self.Validate()
                icon: "checkbox-marked-circle"




<ScreenHome>:
    BoxLayout:
        size_hint_x: 1
        id: screenhome_box
        orientation: "vertical"
        BoxLayout:

            id: homeScreen_HomeHome
            size_hint_y:0.9
            orientation: 'vertical'
            MDLabel:
                text: "Star Tracker Home"
                size_hint_y: 0.1
                size_hint_x: 1
                halign:"center"
            # Cards go here - build a generator for them...
            ScrollView:
                size_hint_x: 1

                StackLayout:
                    size_hint_y:None
                    height: self.minimum_height
                    spacing: 10
                    id: add_here
            ToolBar:
                size_hint_y: 0.1






<ScreenIOTControl>:
    BoxLayout:
        # min size of the box
        # centre the box
        pos_hint: {"center_x": .5, "center_y": .5}

        orientation: 'vertical'
        MDLabel:
            text: "Star Tracker IOT Control"
            size_hint_y: 0.1
            halign:"center"
        BoxLayout:
            id: iotcontrol_box
            orientation: 'vertical'
            size_hint_y: 0.9
            # pos hint is relative to the parent widget
            pos_hint: {"center_x": .5, "center_y": .5}

        BoxLayout:
            id: toolbar_box
            # scale toolbar to 10% of screen height
            size_hint_y: 0.1

            # scale x to 100% of screen width
            size_hint_x: 1

<DeviceSettings>

<ScreenAboutMe>:
    BoxLayout:
        Button:
            text: "WIP"
            on_press:
                root.manager.current = "ScreenHome"
